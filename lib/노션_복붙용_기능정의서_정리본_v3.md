# 건설 인력 매칭 플랫폼 기능정의서 — 노션 복붙용 (피드백 반영본 v3)

> **목표:** 구인자(현장) ↔ 구직자(근로자) 매칭을 **관리자 프로그램 중심 운영**으로 안정화하고,  
> **간편 로그인(휴대폰+푸시 인증번호)**, **현장/공고 승인 프로세스**, **선호지역 기반 노출**, **노쇼 관리**, **지도/내비 딥링크**를 포함한다.

---

## 0) 핵심 변경점(피드백 반영 요약)
- **로그인/회원가입**: PASS 불필요. **휴대폰 번호 입력 → 최초 1회 푸시 랜덤 인증번호**로 진위 확인 → 이후 **로그인 유지** (구인자/구직자 동일 적용)
- **현장 등록**: “등록=노출” 아님. **전화로 현장 담당자 진위 확인(최초 1회)** 후 승인
- **공고(오더) 권한**: 구인자 앱에서 올리면 **관리자 프로그램에만 요청으로 표시** → 관리자가 확인/필요 시 편집 → **승인 후 노출**
- **선호지역**: 회원가입 시 **선호 지역 등록** → 해당 지역 현장 우선 노출, 필요 시 다른 지역 확장 조회
- **매칭 운영 방식(현재안)**: 관리자 프로그램에서 **구인자 메모 기반 선호 인력 우선 채용**, 잔여 인원은 **순서 기반 채용** (나이/경력 고려는 인력사무소 판단)
- **노쇼**: 노쇼를 별도 표시하고 **노쇼 횟수를 구인자/관리자 프로그램에서 조회 가능**해야 함
- **지도/내비**: 현장 위치는 앱에서 **간략 맵 표시** + 클릭 시 **네이버/카카오/T맵 딥링크** (구인자/구직자/관리자 프로그램 모두)

---

## 1) 참여 주체(Actor)
- **구직자(근로자)**: 로그인 → 선호지역 등록 → 현장/공고 탐색 → 지원 → 확정 → 출근 → 정산 확인
- **구인자(현장 담당자/소장)**: 로그인 → 현장 등록 요청 → 인력 요청(공고 요청) → (노출된 지원자/채용현황 확인) → 공수/평가 입력
- **관리자(인력사무소/운영 담당자)**: 현장 승인(전화 확인) → 공고 내용 확인/편집/승인 → 채용 운영(우선 채용/순차 채용) → 노쇼/이력 관리 → 정책 값 관리

---

## 2) 로그인/인증(간편 방식) — 구인자/구직자 동일 적용

### 2.1 설계 원칙
- 근로자는 **복잡한 인증(PASS, 이메일/영문 ID)**을 선호하지 않음 → **휴대폰 기반 최소 입력**
- 보안/개인정보/취약점 평가는 추후 과제로 분리하되, MVP는 **운영 경험상 불편 최소화**를 우선

### 2.2 로그인 플로우
1) 사용자가 **휴대폰 번호 입력**
2) **최초 1회**: 푸시 메시지로 **랜덤 인증번호(OTP)** 수신 → 앱에 입력/확인
3) 이후: **로그인 유지(세션 유지)**로 재로그인 최소화

> 참고: “구글 AI 스튜디오로 구현한 앱 로그인 방식”과 동일 콘셉트

---

## 3) 지도/내비 연동(공통 요구사항)

### 3.1 표시 요구
- 현장 위치를 앱 내에서 **간략 지도(핀/주소)로 표시**
- “새벽 출근” 상황을 고려하여 **원클릭으로 내비 앱 실행**이 중요

### 3.2 딥링크 대상
- **네이버 지도 / 카카오맵 / T맵** 호출
- 적용 범위: **구인자 앱 / 구직자 앱 / 관리자 프로그램** 모두

---

## 4) 운영 프로세스(Sequence) — 관리자 승인/운영 중심

## A. 현장 등록/승인(구인자 → 관리자)
### A-1) 구인자 현장 등록 요청(앱)
- 입력: 현장명/공사명, 위치(GPS/주소), 담당자(연락처), 사업자 관련 정보(필요 항목)
- 결과: “현장 등록 요청” 상태로 저장 (아직 노출/활동 불가)

### A-2) 관리자 진위 확인(최초 1회 전화)
- 관리자가 **등록된 현장 담당자에게 전화**하여 진위 확인
- 확인 완료 후 승인: 현장 “활동 가능” 상태 전환
- 반려 시: 반려 사유 기록

> 핵심: **현장 등록한다고 다 등록되는 구조가 아님** (최초 1회 전화 승인)

---

## B. 공고(오더) 등록/노출 권한(구인자 요청 → 관리자 승인/편집 → 노출)
### B-1) 구인자 공고 요청(앱)
- 구인자 앱에서 인력 요청(오더)을 작성하되,
- 결과는 **구직자에게 즉시 노출되지 않고 관리자 프로그램에만 요청으로 표시**

**요청 입력(예시 필드)**
- 날짜/시간, 공종, 인원, 단가, 집결지/현장 주소, 준비물/특이사항, 구인자 메모(선호 인력 조건 등)

### B-2) 관리자 확인/편집/승인(관리자 프로그램)
- 담당자가 추가사항 확인
- 필요 시 공고 내용을 편집하여 **일관성 있는 형식**으로 정리
- 승인 후에만 공고가 구직자에게 노출됨

> 핵심: **공고의 권한은 관리자 프로그램에 있음**

---

## C. 구직자 회원가입 시 선호지역 등록 & 노출 정책
### C-1) 선호지역 입력
- 회원가입(또는 최초 설정) 단계에서 **선호 지역(복수 가능)**을 등록

### C-2) 공고/현장 노출
- 기본 목록: **선호지역의 현장/공고를 우선 노출**
- 필요 시 “다른 지역 보기” 클릭으로 확장 탐색 가능

---

## D. 채용(매칭) 운영 방식(현재안)
> “구인자-구직자가 직접 채용”은 이상적이지만 **추가 논의 필요**.  
> 현재는 **관리자 프로그램 기반 운영형 매칭**을 우선 적용.

### D-1) 우선 채용
- 관리자(인력사무소)가 **구인자 메모(선호 인력 조건)**를 참고하여 **선호 인력 우선 채용**

### D-2) 잔여 인원 채용
- 남은 인원은 **지원/대기 순서에 따라 채용**(운영 정책에 맞게 정의)

### D-3) 채용 고려 요소
- 나이/경력 등은 고려사항이지만 **판단은 전적으로 인력사무소(관리자)가 수행**

---

## E. 노쇼(No-show) 관리
### E-1) 기록
- 확정 후 미출근/취소 등 정책에 해당하면 **노쇼로 기록**
- **노쇼 횟수 누적** 및 최근 노쇼 일시/사유(선택) 저장

### E-2) 조회/표시
- 구인자/관리자 프로그램에서 해당 인력의 **노쇼 횟수**를 확인할 수 있어야 함
- 리스트/프로필에서 **배지 형태로 노출(예: “노쇼 2회”)** 권장

---

## 5) 기능 요구사항(화면/기능 단위 체크리스트)

### 5.1 공통(구인자/구직자 앱)
- [ ] 휴대폰 번호 입력 로그인
- [ ] 최초 1회 푸시 랜덤 인증번호(OTP) 검증
- [ ] 로그인 유지(세션 유지)
- [ ] 현장 위치 간략 지도 표시 + 내비 딥링크(네이버/카카오/T맵)

### 5.2 구직자 앱
- [ ] 선호지역 등록(가입 시 필수 또는 온보딩 필수)
- [ ] 선호지역 우선 공고/현장 노출 + 타지역 확장 보기
- [ ] 공고 상세(위치/단가/인원/시간/특이사항)
- [ ] 지원/지원 취소(정책에 따라 제한 가능)
- [ ] 확정 알림/출근 정보 확인
- [ ] 정산/명세 내역 확인(기간별 조회)

### 5.3 구인자 앱
- [ ] 현장 등록 요청(위치/담당자 연락처 포함)
- [ ] 공고(오더) 등록 “요청”(관리자 프로그램에만 표시)
- [ ] 승인된 공고 현황/충원 상태 확인
- [ ] 근로자 공수 입력/평가(정책에 따라)

### 5.4 관리자 프로그램(필수)
- [ ] 현장 등록 요청 리스트/상세
- [ ] 전화 진위 확인 체크 + 승인/반려 + 사유 기록
- [ ] 공고 요청 리스트/상세
- [ ] 공고 내용 편집(표준 템플릿) + 승인/노출
- [ ] 채용 운영(선호 인력 우선 채용, 잔여 인원 순차 채용)
- [ ] 노쇼 기록/횟수 조회(구인자와 동일 정보 제공)
- [ ] 지도/내비 딥링크 제공(관리자도 길 안내 필요)

---

## 6) 데이터(개념) 모델 — 최소 단위

| 엔티티 | 핵심 필드(예시) | 비고 |
|---|---|---|
| User | role(구직/구인/관리), 휴대폰, 세션토큰, 상태 | 이메일/영문 ID 없음 |
| PreferenceRegion | user_id, 지역코드/좌표, 우선순위 | 선호지역 기반 노출 |
| Site(현장) | 위치(GPS/주소), 공사명, 담당자 연락처, 승인상태, 승인일 | 전화 승인(최초 1회) |
| JobRequest(공고 요청) | 구인자, 현장, 날짜/공종/인원/단가, 메모, 상태(요청) | 관리자 프로그램에만 표시 |
| JobPost(노출 공고) | 표준화된 공고 내용, 노출상태, 마감상태 | 관리자 편집/승인 후 생성 |
| Match/Selection | 채용 대상, 우선채용 여부, 채용 순서, 상태 | 운영형 매칭 |
| NoShow | user_id, 횟수, 최근 발생일, 사유(옵션) | 구인자/관리자 조회 |

---

## 7) 남은 논의 항목(문서에 명시)
- 구인자-구직자 **직접 채용 방식은 추가 논의 필요** (현재는 관리자 운영형)
- 로그인 방식은 편의 우선으로 설계하되, 향후 **개인정보보호/취약점 평가** 대응 계획 필요

